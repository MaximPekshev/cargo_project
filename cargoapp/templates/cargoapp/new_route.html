{% extends 'cargoapp/base.html' %}

{% block content %}
<nav class="fixed-bottom navbar-dark bg-dark">
	<a class="navbar-brand" href="{% url 'show_index_page' %}">Назад</a>
</nav>
<div class="row pt-1">
	<div class="col-2 {% if actual_vehicle %} offset-8 {% else %} offset-10 {% endif %} my-auto" align="right">Логист: {{ user.username }}</div>
	{% if actual_vehicle %}
	<div class="col-2 my-auto" align="right">Автомобиль: {{ actual_vehicle.car_number }}</div>
	{% endif %}
</div>
<div class="row justify-content-center mt-2 mb-6">
	<div align="center">
		Новый маршрут
	</div>
	<form class="col-6" method="POST" id="routeForm" action="{% url 'route_add' %}" >
		{% csrf_token %}
		<div class="form-group row mt-4">
			<label for="inputFrom_date" class="col-2 col-form-label">Дата С</label>
			<div class="col-4">
				<input type="date" class="form-control" name="inputFrom_date" id="inputFrom_date" required>
			</div>
			<label for="inputTo_date" class="col-2 col-form-label">Дата По</label>
			<div class="col-4">
				<input type="date" class="form-control" name="inputTo_date" id="inputTo_date" required>
			</div>
		</div>
		<div class="form-group row mt-4">
			<label for="inputA_point" class="col-2 col-form-label">Откуда</label>

			<div class="col-4">
				<select class="js-example-basic-single form-control" name="inputA_point" id="inputA_point">
					{% for item in cities %}
					<option value="{{ item.title }}">{{ item.title }}</option>
					{% endfor %}
				</select>
			</div>
			<label for="inputB_point" class="col-2 col-form-label">Куда</label>
			<div class="col-4">
				<select class="js-example-basic-single form-control" name="inputB_point" id="inputB_point">
					{% for item in cities %}
					<option value="{{ item.title }}">{{ item.title }}</option>
					{% endfor %}
				</select>
			</div>
		</div>
		<div class="form-group row mt-4">
			<label for="inputRoute_length" class="col-2 col-form-label">Пробег, км</label>
			<div class="col-4">
				<input type="text" class="form-control" name="inputRoute_length" id="inputRoute_length">
			</div>
			<label for="inputRoute_cost" class="col-2 col-form-label">Доход, руб</label>
			<div class="col-4">
				<input type="text" class="form-control" name="inputRoute_cost" id="inputRoute_cost" >
			</div>
		</div>
		<div class="form-group row mt-4">
			<label for="inputExpenses_1" class="col-2 col-form-label">Прочие расходы, руб</label>
			<div class="col-4">
				<input type="text" class="form-control" name="inputExpenses_1" id="inputExpenses_1">
			</div>
			
		</div>

		<div class="form-group row mt-4">
			<label for="inputVehicle" class="col-2 col-form-label">Авто</label>
			<div class="col-4">
				<div class="form-group">
					<input type="text" class="form-control" name="inputVehicle" id="inputVehicle" value="{{ actual_vehicle.uid }}" hidden>
					<select class="form-control" disabled>
						<option selected >{{ actual_vehicle.car_number }}</option>
					</select>
				</div>
			</div>
			<label for="inputDriver" class="col-2 col-form-label">Водитель</label>
			<div class="col-4">
				<div class="form-group">
					<select class="form-control" id="inputDriver" name="inputDriver">
						<option value="{{ actual_driver.uid }}">{{ actual_driver }}</option>
						<option value="">...</option>
						{% for driver in drivers %}
						<option value="{{ driver.uid }}">{{ driver.title }}</option>
						{% endfor %}
					</select>
				</div>
			</div>
		</div>

		<div class="form-group row mt-4">
			<label for="inputClient" class="col-2 col-form-label">Заказчик</label>
			<div class="col-4">
				<div class="form-group">
					<select class="form-control" id="inputClient" name="inputClient">
						<option value="">...</option>
						{% for org in organizations %}
						<option value="{{ org.uid }}">{{ org.title }}</option>
						{% endfor %}
					</select>
				</div>
			</div>
			<label for="inputLogist" class="col-2 col-form-label">Логист</label>
			<div class="col-4">
				<div class="form-group">
					<input type="text" class="form-control" name="inputLogist" id="inputLogist" value="{{ user.uid }}" hidden>
					<select class="form-control" disabled>
						<option selected>{{ user.username }}</option>
					</select>
				</div>
			</div>
		</div>

		<div align="center" class="mt-3 mb-3">
			Информация о грузе
		</div>

		<div class="form-group row mt-4">
			<label for="inputItems_count" class="col-2 col-form-label">Количество мест</label>
			<div class="col-4">
				<input type="text" class="form-control" name="inputItems_count" id="inputItems_count">
			</div>
			<label for="inputRequest_number" class="col-2 col-form-label">Номер заявки</label>
			<div class="col-4">
				<input type="text" class="form-control" name="inputRequest_number" id="inputRequest_number">
			</div>
		</div>

		<div class="form-group row mt-4">
			<label for="inputWeight" class="col-2 col-form-label">Вес, кг</label>
			<div class="col-4">
				<input type="text" class="form-control" name="inputWeight" id="inputWeight">
			</div>
			<label for="inputVolume" class="col-2 col-form-label">Объем, м3</label>
			<div class="col-4">
				<input type="text" class="form-control" name="inputVolume" id="inputVolume" >
			</div>
		</div>

		<div align="center" class="mt-3 mb-3">
			Габариты
		</div>

		<div class="form-group row mt-4">
			<label for="inputWidth" class="col-2 col-form-label">Ширина, см</label>
			<div class="col-2">
				<input type="text" class="form-control" name="inputWidth" id="inputWidth">
			</div>
			<label for="inputHeight" class="col-2 col-form-label">Высота , см</label>
			<div class="col-2">
				<input type="text" class="form-control" name="inputHeight" id="inputHeight" >
			</div>
			<label for="inputDepth" class="col-2 col-form-label">Глубина, см</label>
			<div class="col-2">
				<input type="text" class="form-control" name="inputDepth" id="inputDepth" >
			</div>
		</div>

		<div align="center" class="mt-3 mb-3">
			Описание груза
		</div>

		<div class="form-group row mt-4">
			<div class="col-12">
				<input type="text" class="form-control" name="inputDescription" id="inputDescription">
			</div>
		</div>

		<div class="row col-12 justify-content-end mt-4">
			<div class="form-group col-md-2 col-sm-4 pr-md-5" align="right">
				<button type="submit" class="btn btn-secondary" form="routeForm">Рассчитать</button>
			</div>
			<div class="form-group col-md-2 col-sm-4 pl-md-5" align="right">
				<button type="submit" class="btn btn-primary" form="routeForm">Сохранить</button>
			</div>
		</div>
	</form>
	<div class="pb-5"></div>
</div>
{% endblock %}
